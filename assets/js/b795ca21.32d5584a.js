"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[943],{3023:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var s=t(3696);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}},5010:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"primitives/event","title":"Event","description":"event()","source":"@site/docs/primitives/event.md","sourceDirName":"primitives","slug":"/primitives/event","permalink":"/signux/docs/primitives/event","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"State","permalink":"/signux/docs/primitives/state"},"next":{"title":"Computed","permalink":"/signux/docs/primitives/computed"}}');var i=t(2540),r=t(3023);const a={sidebar_position:2},o="Event",c={},l=[{value:"\u2705 Basic usage",id:"-basic-usage",level:2},{value:"\ud83e\udde0 Events don&#39;t hold a value",id:"-events-dont-hold-a-value",level:2},{value:"\ud83d\udce6 API",id:"-api",level:2},{value:"\ud83d\udd01 With <code>.toState(...)</code>",id:"-with-tostate",level:2},{value:"\u270d\ufe0f Example: form update",id:"\ufe0f-example-form-update",level:2}];function d(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"event",children:"Event"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"event<T>()"})}),"\n",(0,i.jsx)(n.p,{children:"Creates a reactive event stream that can emit values and be subscribed to."}),"\n",(0,i.jsx)(n.p,{children:"Useful for modeling actions, user interactions, or any kind of data stream."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-basic-usage",children:"\u2705 Basic usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { event } from "signux";\n\nconst clicked = event<MouseEvent>();\nclicked.subscribe((e) => console.log("Clicked!", e));\n\n// emit an event\nclicked(new MouseEvent("click"));\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-events-dont-hold-a-value",children:"\ud83e\udde0 Events don't hold a value"}),"\n",(0,i.jsxs)(n.p,{children:["Unlike state, events do not store the last value or hold any internal state.",(0,i.jsx)(n.br,{}),"\n","They are ephemeral \u2014 listeners are only notified when something is emitted."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-api",children:"\ud83d\udce6 API"}),"\n",(0,i.jsxs)(n.p,{children:["An ",(0,i.jsx)(n.code,{children:"Event<T>"})," exposes:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"(payload: T) => void"})," \u2192 emit a value"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"subscribe(fn: (value: T) => void)"})," \u2192 listen to emissions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:".pipe(...operators)"})," \u2192 create derived reactive streams"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:".toState(initial?)"})," \u2192 convert the event into reactive state"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"-with-tostate",children:["\ud83d\udd01 With ",(0,i.jsx)(n.code,{children:".toState(...)"})]}),"\n",(0,i.jsx)(n.p,{children:"You can convert an event into state:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'const query = event<string>();\nconst currentQuery = query.toState("");\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Every time ",(0,i.jsx)(n.code,{children:"query()"})," is called, ",(0,i.jsx)(n.code,{children:"currentQuery()"})," will update."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-example-form-update",children:"\u270d\ufe0f Example: form update"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'const nameChange = event<string>();\nconst name = nameChange.toState("Ada");\n\nnameChange("Lovelace");\nconsole.log(name()); // "Lovelace"\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);